<div class="border-bottom userDashboardHeader">
    <i class="fa fa-archive" aria-hidden="true"></i> My Orders
</div>

<!-- List Orders -->
{{#if orders}}
	{{#each orders}}
	<div class="cartItems">
		<div class="cartItem container pt-3">
			<div class="row">
				<div class="col-2 " align="center">

					<i class="fa fa-box deliveryInfoLogo mt-1"></i>
				</div>
				<div class="col-10">
					<div class="row">
						<p id="deliveryInfoName">
							{{this.orderDescription}}
							
							<span id="deliveryInfoCell" class="ml-3 pt-0">{{this.deliveryDate}}, {{this.deliveryTime}}</span>
						</p>

					</div>
					<div class="row">
						<p id="deliveryInfoAddr">{{this.deliveryInfo.street}} Block {{this.deliveryInfo.blockNo}} {{this.deliveryInfo.unitNo}}, {{this.deliveryInfo.country}}
							{{this.deliveryInfo.state}}, {{this.deliveryInfo.country}} {{this.deliveryInfo.postcode}}</p>
					</div>
				</div>
			</div>

			<hr>
			{{!-- Order Status --}}
			<div class="row">								
				<div class="col-12">
					<p style="font-size: 1.2em;" class = "orderStatus" id = "orderStatus" data-orderStatus={{this.orderStatus}}>
						Order Status: 
						{{#if (equal this.orderStatus 1)}}
							Order Placed
						{{else if (equal this.orderStatus 2)}}
							Order picked up by Courier
						{{else if (equal this.orderStatus 3)}}
							Order on the way
						{{else if (equal this.orderStatus 4)}}
							Order has arrived
						{{else}}
							Order completed
						{{/if}}
						</p>
					<div class="row">
						<div class="col-12">
							<div class="track" id="track">
								<div class="step" id="{{@index}}orderStatus1"> <span class="icon"> <i class="fa fa-check"></i> </span> <span class="text">Order confirmed</span> </div>
								<div class="step" id="{{@index}}orderStatus2"> <span class="icon"> <i class="fa fa-user"></i> </span> <span class="text"> Picked by courier</span> </div>
								<div class="step" id="{{@index}}orderStatus3"> <span class="icon"> <i class="fa fa-truck"></i> </span> <span class="text"> On the way </span> </div>
								<div class="step" id="{{@index}}orderStatus4"> <span class="icon"> <i class="fa fa-box"></i> </span> <span class="text">Ready for pickup</span> </div>
							</div>
						</div>
					</div>
					<hr>
					<div class="row">
						<div class="col-6">
							<p style="font-size: 1.2em;">Total Sum: ${{this.orderSum}}</p>
						</div>
						<div class="col-6">
							<button type="button" class="viewItems"><i class="fa fa-list-alt"></i> View Items</button>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
	{{/each}}
	<!-- List Orders -->
{{else}}
<p id="no-order">No Orders Placed</p>
{{/if}}
{{!-- <script src="/js/user/orderInfo.js"></script> --}}

<script>
	$("#v-pills-profile-tab").on("click", function(){
		let elems = document.getElementsByClassName("orderStatus");
		for (let i = 0; i < elems.length; i++) {
			let statusId = parseInt(elems[i].attributes["data-orderStatus"]["value"])
			for (let id = 1; id < (statusId+1); id++) {
				document.getElementById(`${i}orderStatus${id}`).classList.add("active");
			}
		}

	})
</script>